set shell := ["bash", "-c"]

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒãƒ³ãƒ‰ï¼ˆä¸€è¦§è¡¨ç¤ºï¼‰
default:
    @just --list --justfile {{justfile()}}

# ==========================================
# ğŸ“¦ Setup
# ==========================================

# å…¨ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
install: install-backend install-frontend
    @echo "âœ… All WebUI dependencies installed."

install-backend:
    @echo "--> Installing Backend dependencies..."
    cd backend && yarn install

install-frontend:
    @echo "--> Installing Frontend dependencies..."
    cd frontend && yarn install

# ==========================================
# ğŸš€ Development Server
# ==========================================

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Hono) ã‚’èµ·å‹• (Port: 3000)
dev-backend:
    @echo "ğŸš€ Starting Backend Server..."
    cd backend && yarn dev

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Vite) ã‚’èµ·å‹• (Port: 5173)
dev-frontend:
    @echo "ğŸ¨ Starting Frontend Server..."
    cd frontend && yarn dev

# (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) Prisma Studio ã‚’èµ·å‹• (DBç®¡ç†UI)
db-studio:
    @echo "ğŸ—„ï¸  Starting Prisma Studio..."
    cd backend && npx prisma studio