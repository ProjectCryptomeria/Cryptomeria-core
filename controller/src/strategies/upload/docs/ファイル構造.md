```
controller/src/strategies/upload/
├── interfaces/                     # 契約層：戦略を構成するモジュールのインターフェース定義
│   ├── IUploadStrategy.ts          # 最上位インターフェース（旧 IUploadStrategy.ts からの流用）
│   ├── IChunkAllocator.ts          # ★ 新設: チャンクの「割当ロジック」を定義する契約
│   └── IUploadTransmitter.ts       # ★ 新設: Txの「送信・確認方式」を定義する契約
│
├── base/                           # 基盤層：不変の共通ロジック
│   └── BaseCoreLogic.ts            # 共通不変ロジック（旧 BaseUploadStrategy.ts から派生）
│                                   # (役割: チャンク化、ガス見積もり、マニフェスト登録)
│
└── implement/                      # 実装層：具体的なロジックと合成クラス
    ├── CompositeUploadStrategy.ts  # ★ 新設: IUploadStrategyの最終実装。AllocatorとTransmitterをDIで受け取り実行を制御するオーケストレーター。
    │
    ├── allocator/                  # IChunkAllocatorの実装（割当/チェーン選択ロジック）
    │   ├── StaticMultiAllocator.ts # Mega_Chunk（静的）割当。全ての静的ケースに対応。
    │                               # (S-1, S-3, M-1, M-2)
    │   ├── RoundRobinAllocator.ts  # Common_Queue（動的）+ RR選択。
    │                               # (S-2, S-4, M-3_B, M-4_B)
    │   ├── RandomAllocator.ts      # Common_Queue（動的）+ Random選択。
    │                               # (M-3_C, M-4_C)
    │   └── AvailableAllocator.ts   # Common_Queue（動的）+ Available（Mempool監視）選択。（旧 DistributeUploadStrategyの核部分）
    │                               # (M-3_D, M-4_D)
    │
    └── transmitter/                # IUploadTransmitterの実装（実行方式ロジック）
        ├── OneByOneTransmitter.ts  # One_By_One実行方式。（旧 BaseOneByOneStrategy/SequentialUploadStrategyの核部分）
        └── MultiBurstTransmitter.ts# Burst実行方式。（旧 BaseMultiBurstStrategy/DistributeUploadStrategyの核部分）
```