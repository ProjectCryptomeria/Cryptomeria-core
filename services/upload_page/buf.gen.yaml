# services/upload_page/buf.gen.yaml
version: v1
plugins:
  - plugin: ts-proto
    out: .                     # 修正: 二重階層にならないよう "." (カレント) に変更
    opt:
      - esModuleInterop=true
      - forceLong=long
      - useOptionals=messages  # 修正: 警告対応 (true -> messages)
      - outputClientImpl=false
      - snakeToCamel=true
    strategy: all
    path: ../node_modules/.bin/protoc-gen-ts_proto