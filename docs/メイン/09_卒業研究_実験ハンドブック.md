---
DocType: SPEC
SourceOfTruth: doc
Status: draft
LastReviewed: 2026-01-25
Owners: TBD
---

# Experiment Handbook（卒業研究：総論）

## 1. 目的
Cryptomeria-Core を題材に、設計の妥当性・特性（性能/信頼性/スケール）を検証する。

## 2. 研究で扱える問い（例）
- FDSC スケール（台数増）でスループット/遅延はどう変化するか？
- fragment_size の選択は復元性能やネットワーク負荷にどう影響するか？
- relayer 停止/再起動などの障害時に、どの程度復旧可能か？
- conflict が生じる条件は何か？検出は正しく機能するか？
- web hosting と download で性能差・ボトルネックはどこか？

## 3. 仮説のテンプレ
- H1：FDSC を増やすと upload の並列性が上がり、（一定条件下で）スループットが向上する
- H2：fragment_size を大きくすると proof 計算/転送は減るが、欠損時の影響が大きい
- H3：relayer 障害は遅延を増大させるが、復旧後に最終整合（CLOSED_SUCCESS）へ到達できる

## 4. 実験設計 共通ルール
### 4.1 変数
- 独立変数：FDSC数、fragment_size、ファイルサイズ分布、ネットワーク条件、障害注入条件
- 従属変数：upload/download/hosting の遅延・成功率・スループット等
- 制御変数：k8sリソース、ノード性能、同時実行数、ソフトウェアバージョン

### 4.2 再現性
- values.yaml / helm の設定を固定して記録
- 実験ごとに “環境情報（commit hash / image tag）” を書く
- 同一条件で複数回実行（n回）して分散を見る

### 4.3 データ保存
- 実験ごとに `results/<experiment-name>/<timestamp>/` のような保存先を規定（後で確定）
- 生ログ、集計結果、図表を同じ場所に保存

## 5. 実験カテゴリ（推奨）
1) スケール実験（FDSC増）
2) パラメータ実験（fragment_size等）
3) 障害耐性実験（relayer停止、FDSCダウン）
4) 整合性実験（proof検証、conflict）
5) ユースケース比較（download vs hosting）

## 6. 実験テンプレへの導線
- 実験個票は `10_experiment_protocol_template.md` のフォーマットを使用する

## 7. 推奨：最初の3実験（例）
- E1：FDSC=1,2,3 で upload/download の時間比較
- E2：fragment_size を複数値で比較（小/中/大）
- E3：relayer を途中停止→復帰させ、最終クローズまでの挙動を観察
